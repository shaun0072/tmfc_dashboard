function left_bar(n){for(var e in n)if(n.hasOwnProperty(e)){var t='<li onclick="get_apps(this)">'+e+"</li>";$(".nav_cntr .process_list").append(t)}}function get_apps(n){$(".application_list").empty();var e=$(n).text();for(var t in proc_app_obj)if(t==e)for(var o=0;o<proc_app_obj[t].length;o++){var a='<li><span class="tank_num">'+proc_app_obj[t][o][1][0]+'</span> <span class="application">'+proc_app_obj[t][o][0]+"</span></li>";$(".application_list").append(a)}}function showInput(n){var e;"new_input"==$(n).val()?e="inline":(e="none",$('input[data="'+$(n).attr("id")+'"]').val("")),$('input[data="'+$(n).attr("id")+'"], label[data="'+$(n).attr("id")+'"]').css("display",e)}function upload_file_ajax(n,e,t){var o=n.files[0],a=new FormData;a.append("file",o),$.ajax({url:"file_upload_handler.php",method:"POST",data:a,contentType:!1,cache:!1,processData:!1,dataType:"json",beforeSend:function(){e.html("<label class='text-success'>Image Uploading...</label>")},success:function(n){t.html(n.message),e.val(n.new_file_name),console.log(e.val())}})}function setTankSelOpt(n){var e,t=$(n).val(),o="#"+$(n).siblings(".tankNumber_container").children('select[id^="tankNumber-"]').attr("id");console.log(o),""==t?($(o).empty(),e+='<option value=""></option>',$(".tankNumber_container").css("display","none"),$(o).append(e)):$.ajax({url:"get_tank_num_handler.php",method:"POST",data:{data:t},dataType:"json",complete:function(n){console.log(n)},success:function(n){$(o).empty();for(var t=0;t<n.length;t++)e+='<option value="'+n[t]+'">'+n[t]+"</option>";e+='<option value="new_input">New Tank Number</option>',$(o).append(e),$(".tankNumber_container").css("display","inline"),showInput($(o))}})}var proc_app_obj={"Alkaline Zinc-Rack":[["Cleaner",[1701]],["Electro-Cleaner",[1702]],["Rinse",[1703]],["Acid Pickle",[1704]],["Rinse",[1705]],["Plating Tank",[1706]],["Plating Tank",[1707]],["Rinse",[1708]],["Sour Dip",[1709]],["Rinse",[1710]],["Tri-Clear Chromate",[1711]],["Rinse",[1712]],["Tri-Yellow Chromate",[1713]],["Rinse",[1714]],["Hot Rinse - Clear",[1715]],["Hot Rinse - Yellow",[1716]]],"Chloride Zinc-Barrel":[["Cleaner",[1301]],["Electro-Cleaner",[1302]],["Rinse",[1303]],["Acid Pickle",[1304]],["Rinse",[1305]],["Plating Tank",[1307]],["Sour Dip",[1309]],["Tri-Clear Chromate",[1310]],["Rinse",[1311]],["Tri-Yellow Chromate",[1312]],["Rinse",[1313]],["Tri-Clear Seal",[1314]],["Tri-Yellow Seal",[1315]]]};$(".tools_item").hover(function(){$(this).children(".tools_dropdown").stop().slideToggle(),console.log("test")},function(){$(this).children(".tools_dropdown").stop().slideToggle()}),left_bar(proc_app_obj);var process_count=1;$(".addProcess").click(function(n){n.preventDefault();var e=$('select[name="selProcess['+(process_count-1)+']"]').val().trim(),t=$('input[name="inputProcess['+(process_count-1)+']"]').val().trim(),o=$('input[name="application_initiation['+(process_count-1)+']"]').val().trim(),a=$('input[name="process_initiation['+(process_count-1)+']"]').val().trim(),i=""!==e&&"new_input"!==e;if(!(!(""!==t)&&!i)&&""!==o&&i==!(""!==a)){var c='<div class="process_name_inputs">';c+='<label for="process_name-'+process_count+'"><span style="color:red">*</span>Process Name: </label>',c+='<select id="process_name-'+process_count+'" onchange="showInput(this)" name="selProcess['+process_count+']">',$("#process_name-0 option").each(function(){var n=$(this).val(),e=$(this).text();c+='<option value="'+n+'">'+e+"</option>"}),c+="</select>",c+='<input type="text" placeholder="New Process" data="process_name-'+process_count+'" name="inputProcess['+process_count+']" hidden />',c+='<label for="process_initiation-'+process_count+'" style="display:none;" data="process_name-'+process_count+'"><span style="color:red">*</span>Date of process initiation:</label>',c+='<input type="date" id="process_initiation-'+process_count+'" name="process_initiation['+process_count+']" data="process_name-'+process_count+'" hidden />',c+='<label for="application_initiation-'+process_count+'"><span style="color:red">*</span>Date of application initiation:</label>',c+='<input type="date" id="application_initiation-'+process_count+'" name="application_initiation['+process_count+']" required/>',c+="</div>",$(".process_name_section").append(c),process_count++}else console.log("something was not filled")});var LT_count=1;$(".addLT").click(function(n){n.preventDefault();var e=$('select[name = "selLineNumber['+(LT_count-1)+']"]').val().trim(),t=$('input[name="inputLineNumber['+(LT_count-1)+']"]').val().trim(),o=$('select[name = "selTankNumber['+(LT_count-1)+']"]').val().trim(),a=$('input[name="inputTankNumber['+(LT_count-1)+']"]').val().trim(),i=$('input[name="tank_initiation['+(LT_count-1)+']"]').val().trim();if(!(!(""!==e&&"new_input"!==e)&&!(""!==t))&&!(!(""!==o&&"new_input"!==o)&&!(""!==a))&&""!==i){var c='<div class="line_tank_inputs">';c+='<label for="line_number-'+LT_count+'">Line Number: </label>',c+='<select id="lineNumber-'+LT_count+'" name="selLineNumber['+LT_count+']"  onchange="showInput(this), setTankSelOpt(this)">',$("#lineNumber-0 option").each(function(){var n=$(this).val(),e=$(this).text();c+='<option value="'+n+'">'+e+"</option>"}),c+="</select>",c+='<input type="number" name="inputLineNumber['+LT_count+']" id="line_number-'+LT_count+'" data="lineNumber-'+LT_count+'" hidden />',c+='<span class="tankNumber_container">',c+='<label for="tank_number-'+LT_count+'">Tank Number: </label>',c+='<select id="tankNumber-'+LT_count+'" onchange="showInput(this)" name="selTankNumber['+LT_count+']">',c+='<option value="">Select</option>',c+="</select>",c+='<input type="number" name="inputTankNumber['+LT_count+']" data="tankNumber-'+LT_count+'" name="inputTankNumber['+LT_count+']" hidden />',c+='<label for="tank_initiation-'+LT_count+'">Date of tank association with tank: </label>',c+='<input type="date" name="tank_initiation['+LT_count+']" id="tank_initiation-'+LT_count+'"/>',c+="</span>",c+="</div>",$(".line_tank_section").append(c),LT_count++}else console.log("something was not filled")});var component_count=1;$(".addComponent").click(function(n){n.preventDefault();var e=$('input[name="component_name['+(component_count-1)+']"]').val().trim(),t=$('select[name="selcomponent_unit['+(component_count-1)+']"]').val().trim(),o=$('input[name="inputcomponent_unit['+(component_count-1)+']"]').val().trim();if(""!==e&&!(!(""!==t&&"new_input"!==t)&&!(""!==o))){var a='<div class="componenet_inputs">';a+='<label for="component_name">Component Name: </label><input type="text" name="component_name['+component_count+']" id="component_name"><br />',a+='<label for="component_unit-'+component_count+'">Component Unit: </label>',a+='<select id="component_unit-'+component_count+'" onchange="showInput(this)"  name="selcomponent_unit['+component_count+']">',$("#component_unit-0 option").each(function(){var n=$(this).val(),e=$(this).text();a+='<option value="'+n+'">'+e+"</option>"}),a+="</select>",a+='<input type="text" name="inputcomponent_unit['+component_count+']" data="component_unit-'+component_count+'" hidden><br />',a+='<label for="tmfc_concentration_optimum-'+component_count+'">TMFC Optimum Concentration: </label><input type="number" name="tmfc_concentration_optimum['+component_count+']" id="tmfc_concentration_optimum-'+component_count+'"><br />',a+='<label for="tmfc_concentration_min-'+component_count+'">TMFC Minimum Concentration: </label><input type="number" name="tmfc_concentration_min['+component_count+']" id="tmfc_concentration_min-'+component_count+'"><br />',a+='<label for="tmfc_concentration_max-'+component_count+'">TMFC Maximum Concentration: </label><input type="number" name="tmfc_concentration_max['+component_count+']" id="tmfc_concentration_max-'+component_count+'"><br />',a+='<label for="tds_concentration_min-'+component_count+'">TDS Minimum Concentration: </label><input type="number" name="tds_concentration_min['+component_count+']" id="tds_concentration_min-'+component_count+'"><br />',a+='<label for="tds_concentration_max-'+component_count+'">TDS Maximum Concentration: </label><input type="number" name="tds_concentration_max['+component_count+']" id="tds_concentration_max-'+component_count+'"><br />',a+="</div>",$(".component_section").append(a),component_count++}else console.log("something was not filled")});var PC_count=1;$(".addProprietaryChemical").click(function(n){n.preventDefault();var e=$('input[name="proprietary_chemical_name['+(PC_count-1)+']"]').val().trim(),t=$('select[name="selproprietary_chemical_vendor['+(PC_count-1)+']"]').val().trim(),o=$('input[name="inputproprietary_chemical_vendor['+(PC_count-1)+']"]').val().trim();if(""!==e&&!(!(""!==t&&"new_input"!==t)&&!(""!==o))){var a='<div class="proprietary_chemical_inputs">';a+='<label for="proprietary_chemical_name-'+PC_count+'">Proprietary Chemical: </label><input type="text" name="proprietary_chemical_name['+PC_count+']" id="proprietary_chemical_name-'+PC_count+'" /><br />',a+='<label for="sds_file-'+PC_count+'">Safety Data Sheet: </label><input type="file" name="a_file['+PC_count+']" id="sds_file-'+PC_count+'"onchange="upload_file_ajax(this, $(\'#sds-'+PC_count+"'), $('#sds-"+PC_count+'_msg\'))"/><span id="sds-'+PC_count+'_msg"></span><input type="text" id="sds-'+PC_count+'" name="sds['+PC_count+']" hidden /><br />',a+='<label for="proprietary_chemical_vendor-0">Vendor: </label>',a+='<select id="proprietary_chemical_vendor-'+PC_count+'" name="selproprietary_chemical_vendor['+PC_count+']"  onchange="showInput(this)">',$("#proprietary_chemical_vendor-0 option").each(function(){var n=$(this).val(),e=$(this).text();a+='<option value="'+n+'">'+e+"</option>"}),a+="</select>",a+='<input type="text" name="inputproprietary_chemical_vendor['+PC_count+']" data="proprietary_chemical_vendor-'+PC_count+'" hidden /><br />',a+='<label for="proprietary_chemical_makeup-'+PC_count+'">Proprietary Chemical Makeup Requirement Number: </label><input type="number" name="proprietary_chemical_makeup['+PC_count+']" id="proprietary_chemical_makeup-'+PC_count+'" />',a+='<label for="proprietary_chemical_makeup_unit-'+PC_count+'">Unit: </label>',a+='<select id="proprietary_chemical_makeup_unit-'+PC_count+'" name="selproprietary_chemical_makeup_unit['+PC_count+']" onchange="showInput(this)">',$("#proprietary_chemical_makeup_unit-0 option").each(function(){var n=$(this).val(),e=$(this).text();a+='<option value="'+n+'">'+e+"</option>"}),a+="</select>",a+='<input type="text" name="inputproprietary_chemical_makeup_unit['+PC_count+']" data="proprietary_chemical_makeup_unit-'+PC_count+'" hidden/><br />',a+="</div>",$(".proprietary_chemical_section").append(a),PC_count++}else console.log("something not filled")});